<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockTime Scheduler - Enhanced</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“…</text></svg>" type="image/svg+xml">
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" title="Toggle Dark/Light Mode">
        <span id="themeIcon">ðŸŒ™</span>
    </button>

    <div id="app">
        <h1>BlockTime Scheduler</h1>
        <div id="main-content">
            <div class="control-panel">
                <div class="control-module" id="gridSettings">
                    <span>Grid Settings</span>
                    <select id="slotDuration">
                        <option value="15">15 min</option>
                        <option value="30">30 min</option>
                        <option value="60" selected>60 min</option>
                    </select>
                    <button id="timeRender" class="secondary">Time Direction: 12AM Bottom</button>
                    <select id="day-select">
                        <option value="0">Monday</option>
                        <option value="1">Tuesday</option>
                        <option value="2">Wednesday</option>
                        <option value="3">Thursday</option>
                        <option value="4">Friday</option>
                        <option value="5">Saturday</option>
                        <option value="6">Sunday</option>
                    </select>
                </div>
                
                <div class="control-module" id="sampleSchedules">
                    <span>Sample Schedules</span>
                    <button id="load15min" class="secondary">Load 15-min Sample</button>
                    <button id="load30min" class="secondary">Load 30-min Sample</button>
                    <button id="load60min" class="secondary">Load 60-min Sample</button>
                    <button id="clearAll" style="background-color: var(--warning); margin-top: 10px;">Clear All</button>
                </div>
                
                <div class="control-module" id="categoryManagement">
                    <span>Add Category</span>
                    <input type="text" id="newCategory" placeholder="Enter category name">
                    <input type="color" id="categoryColor" value="#3b82f6" title="Choose category color">
                    <button id="addCategory">Add Category</button>
                </div>

                <div class="control-module" id="daySelection">
                    <span>Day Selection</span>
                    <div id="day-checkboxes">
                        <label><input type="checkbox" name="day" value="Monday" data-day="0"> <span class="day-indicator" style="background-color: var(--success);"></span> Monday</label>
                        <label><input type="checkbox" name="day" value="Tuesday" data-day="1"> <span class="day-indicator" style="background-color: var(--info);"></span> Tuesday</label>
                        <label><input type="checkbox" name="day" value="Wednesday" data-day="2"> <span class="day-indicator" style="background-color: var(--warning);"></span> Wednesday</label>
                        <label><input type="checkbox" name="day" value="Thursday" data-day="3"> <span class="day-indicator" style="background-color: var(--error);"></span> Thursday</label>
                        <label><input type="checkbox" name="day" value="Friday" data-day="4"> <span class="day-indicator" style="background-color: var(--primary);"></span> Friday</label>
                        <label><input type="checkbox" name="day" value="Saturday" data-day="5"> <span class="day-indicator" style="background-color: var(--secondary);"></span> Saturday</label>
                        <label><input type="checkbox" name="day" value="Sunday" data-day="6"> <span class="day-indicator" style="background-color: var(--accent);"></span> Sunday</label>
                    </div>
                </div>
            </div>
            
            <div class="content-layout">
                <div id="categories">
                    <!-- Categories will be populated by JavaScript -->
                </div>
                <div id="grid">
                    <!-- Grid will be populated by JavaScript -->
                </div>
                <div id="legend">
                    <h3>Legend</h3>
                    <div id="legend-items"></div>
                </div>
            </div>
            
            <div class="bottom-controls">
                <div class="control-module" id="schedule">
                    <span>Schedule Management</span>
                    <button id="saveSchedule">Save Schedule</button>
                    <button id="loadSchedule" class="secondary">Load Schedule</button>
                    <input type="file" id="fileInput" accept=".json" style="display: none;">
                </div>
                
                <div class="control-module" id="reportSection">
                    <span>Reports & Analytics</span>
                    <input type="text" id="studentName" placeholder="Enter your name">
                    <button id="generateReport">Generate Report</button>
                    <button id="reset" class="secondary" style="margin-top: 15px; background-color: var(--error);">Reset All Data</button>
                </div>
            </div>
        </div>

        <!-- Time Allocation Totals -->
        <div class="control-module" style="margin-top: 20px;">
            <span>Time Allocation Totals</span>
            <div id="totals"></div>
        </div>
    </div>

    <!-- Sample Schedules Data -->
    <script src="sample_schedules.js"></script>
    
    <!-- Enhanced Application Script with Full Functionality -->
    <script>
        // Global variables
        let gridData = Array(7).fill().map(() => []);
        let categories = [];
        let selectedCat = null;
        let currentDay = 0;
        let resolution = 60;
        let timeDirection = 'bottom';

        // Make variables globally accessible
        window.gridData = gridData;
        window.categories = categories;
        window.selectedCat = selectedCat;
        window.currentDay = currentDay;
        window.resolution = resolution;

        // Enhanced Theme Management with Smooth Transitions
        class EnhancedThemeManager {
            constructor() {
                this.init();
            }

            init() {
                const savedTheme = localStorage.getItem('blocktime-theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                
                if (savedTheme) {
                    this.setTheme(savedTheme);
                } else if (prefersDark) {
                    this.setTheme('dark');
                } else {
                    this.setTheme('light');
                }

                // Listen for system theme changes
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    if (!localStorage.getItem('blocktime-theme')) {
                        this.setTheme(e.matches ? 'dark' : 'light');
                    }
                });

                // Theme toggle button
                document.getElementById('themeToggle').addEventListener('click', () => {
                    this.toggleTheme();
                });
            }

            setTheme(theme) {
                const body = document.body;
                const themeIcon = document.getElementById('themeIcon');
                
                // Add transition class for smooth theme switching
                body.classList.add('theme-transition');
                
                if (theme === 'dark') {
                    body.classList.add('dark-mode');
                    themeIcon.textContent = 'â˜€ï¸';
                    document.getElementById('themeToggle').title = 'Switch to Light Mode';
                } else {
                    body.classList.remove('dark-mode');
                    themeIcon.textContent = 'ðŸŒ™';
                    document.getElementById('themeToggle').title = 'Switch to Dark Mode';
                }
                
                localStorage.setItem('blocktime-theme', theme);
                this.currentTheme = theme;
                
                // Remove transition class after animation
                setTimeout(() => {
                    body.classList.remove('theme-transition');
                }, 300);
            }

            toggleTheme() {
                const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
                this.setTheme(newTheme);
                
                // Add visual feedback
                const toggleBtn = document.getElementById('themeToggle');
                toggleBtn.style.transform = 'scale(1.2) rotate(180deg)';
                setTimeout(() => {
                    toggleBtn.style.transform = '';
                }, 300);
            }
        }

        // Enhanced Grid Management with Visual Effects
        function resetGrid() {
            const grid = document.getElementById('grid');
            if (!grid) return;
            
            // Fade out animation
            grid.style.opacity = '0';
            grid.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                grid.innerHTML = '';
                
                // Create enhanced day label
                const dayLabel = document.createElement('div');
                dayLabel.className = 'day-label enhanced';
                dayLabel.textContent = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'][currentDay];
                grid.appendChild(dayLabel);
                
                // Create time slots with enhanced styling
                const slotsPerHour = 60 / resolution;
                const totalSlots = 24 * slotsPerHour;
                
                for (let i = 0; i < totalSlots; i++) {
                    const slot = document.createElement('div');
                    slot.className = 'time-slot enhanced';
                    slot.dataset.slot = i;
                    
                    // Calculate time
                    const totalMinutes = i * resolution;
                    const hour = Math.floor(totalMinutes / 60) % 24;
                    const minute = totalMinutes % 60;
                    const timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    
                    slot.title = timeStr;
                    
                    // Add time label for hour boundaries with enhanced styling
                    if (minute === 0) {
                        const timeLabel = document.createElement('div');
                        timeLabel.className = 'time-label enhanced';
                        timeLabel.textContent = timeStr;
                        slot.appendChild(timeLabel);
                    }
                    
                    // Add existing data if available
                    if (gridData[currentDay] && gridData[currentDay][i]) {
                        slot.textContent = gridData[currentDay][i];
                        slot.classList.add('filled');
                        // Find category color
                        const categoryIndex = categories.indexOf(gridData[currentDay][i]);
                        if (categoryIndex >= 0) {
                            const colors = ['#3b82f6', '#8b5cf6', '#22c55e', '#f59e0b', '#ef4444', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#a855f7'];
                            slot.style.backgroundColor = colors[categoryIndex % colors.length];
                            slot.style.color = 'white';
                            slot.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
                        }
                    }
                    
                    // Enhanced click handler with animation
                    slot.addEventListener('click', function() {
                        if (selectedCat) {
                            // Ensure gridData array exists for current day
                            if (!gridData[currentDay]) {
                                gridData[currentDay] = [];
                            }
                            
                            gridData[currentDay][i] = selectedCat;
                            slot.textContent = selectedCat;
                            slot.classList.add('filled');
                            
                            // Set color with enhanced styling
                            const categoryIndex = categories.indexOf(selectedCat);
                            if (categoryIndex >= 0) {
                                const colors = ['#3b82f6', '#8b5cf6', '#22c55e', '#f59e0b', '#ef4444', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#a855f7'];
                                slot.style.backgroundColor = colors[categoryIndex % colors.length];
                                slot.style.color = 'white';
                                slot.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
                                
                                // Add fill animation
                                slot.style.transform = 'scale(1.1)';
                                setTimeout(() => {
                                    slot.style.transform = '';
                                }, 200);
                            }
                            
                            updateTotals();
                        }
                    });
                    
                    // Enhanced hover effects
                    slot.addEventListener('mouseenter', function() {
                        if (selectedCat && !slot.classList.contains('filled')) {
                            slot.style.backgroundColor = 'rgba(59, 130, 246, 0.3)';
                            slot.style.transform = 'scale(1.02)';
                            slot.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.3)';
                            slot.textContent = selectedCat;
                        }
                    });
                    
                    slot.addEventListener('mouseleave', function() {
                        if (selectedCat && !slot.classList.contains('filled')) {
                            slot.style.backgroundColor = '';
                            slot.style.transform = '';
                            slot.style.boxShadow = '';
                            slot.textContent = '';
                        }
                    });
                    
                    grid.appendChild(slot);
                }
                
                // Fade in animation
                grid.style.opacity = '1';
                grid.style.transform = '';
                
                updateTotals();
            }, 150);
        }

        // Enhanced Totals with Visual Indicators
        function updateTotals() {
            const totalsDiv = document.getElementById('totals');
            if (!totalsDiv) return;
            
            const categoryTotals = {};
            
            // Calculate totals across all days
            for (let day = 0; day < 7; day++) {
                if (gridData[day]) {
                    gridData[day].forEach(category => {
                        if (category) {
                            categoryTotals[category] = (categoryTotals[category] || 0) + resolution;
                        }
                    });
                }
            }
            
            // Enhanced display with animations
            totalsDiv.innerHTML = '';
            Object.entries(categoryTotals).forEach(([category, minutes], index) => {
                const hours = (minutes / 60).toFixed(1);
                const totalDiv = document.createElement('div');
                totalDiv.className = 'total-item enhanced';
                totalDiv.innerHTML = `
                    <div class="total-category">${category}</div>
                    <div class="total-time">${hours}h</div>
                    <div class="total-minutes">(${minutes}min)</div>
                `;
                
                // Add enhanced color indicator
                const categoryIndex = categories.indexOf(category);
                if (categoryIndex >= 0) {
                    const colors = ['#3b82f6', '#8b5cf6', '#22c55e', '#f59e0b', '#ef4444', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#a855f7'];
                    totalDiv.style.borderLeft = `4px solid ${colors[categoryIndex % colors.length]}`;
                    totalDiv.style.background = `linear-gradient(90deg, ${colors[categoryIndex % colors.length]}15, transparent)`;
                }
                
                // Stagger animation
                totalDiv.style.opacity = '0';
                totalDiv.style.transform = 'translateX(-20px)';
                setTimeout(() => {
                    totalDiv.style.opacity = '1';
                    totalDiv.style.transform = '';
                }, index * 100);
                
                totalsDiv.appendChild(totalDiv);
            });
        }

        // Enhanced Category Management with Animations
        function addCategory(name, color) {
            if (name && !categories.includes(name)) {
                categories.push(name);
                
                const categorySpan = document.createElement('span');
                categorySpan.className = 'category enhanced';
                categorySpan.textContent = name;
                categorySpan.style.backgroundColor = color || '#3b82f6';
                categorySpan.style.color = 'white';
                
                // Enhanced click handler
                categorySpan.addEventListener('click', function() {
                    document.querySelectorAll('.category').forEach(cat => {
                        cat.classList.remove('selected');
                        cat.style.transform = '';
                        cat.style.boxShadow = '';
                    });
                    
                    categorySpan.classList.add('selected');
                    categorySpan.style.transform = 'scale(1.1)';
                    categorySpan.style.boxShadow = '0 4px 16px rgba(0,0,0,0.3)';
                    
                    selectedCat = name;
                    window.selectedCat = name;
                });
                
                // Enhanced hover effects
                categorySpan.addEventListener('mouseenter', function() {
                    if (!categorySpan.classList.contains('selected')) {
                        categorySpan.style.transform = 'scale(1.05) translateY(-2px)';
                        categorySpan.style.boxShadow = '0 6px 20px rgba(0,0,0,0.2)';
                    }
                });
                
                categorySpan.addEventListener('mouseleave', function() {
                    if (!categorySpan.classList.contains('selected')) {
                        categorySpan.style.transform = '';
                        categorySpan.style.boxShadow = '';
                    }
                });
                
                // Add with animation
                categorySpan.style.opacity = '0';
                categorySpan.style.transform = 'scale(0.8)';
                document.getElementById('categories').appendChild(categorySpan);
                
                setTimeout(() => {
                    categorySpan.style.opacity = '1';
                    categorySpan.style.transform = '';
                }, 100);
                
                return true;
            }
            return false;
        }

        // Enhanced Schedule Management
        function saveSchedule() {
            const data = {
                gridData: gridData,
                categories: categories,
                resolution: resolution,
                timeDirection: timeDirection,
                timestamp: new Date().toISOString(),
                version: 'enhanced'
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `blocktime_enhanced_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            // Enhanced visual feedback
            const saveBtn = document.getElementById('saveSchedule');
            const originalText = saveBtn.textContent;
            const originalBg = saveBtn.style.backgroundColor;
            
            saveBtn.textContent = 'Saved âœ“';
            saveBtn.style.backgroundColor = 'var(--success)';
            saveBtn.style.transform = 'scale(1.05)';
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.backgroundColor = originalBg;
                saveBtn.style.transform = '';
            }, 2000);
        }

        // Initialize Enhanced Application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize enhanced theme manager
            window.themeManager = new EnhancedThemeManager();
            
            // Enhanced Sample Schedule Loading with Animations
            ['15', '30', '60'].forEach(resolution => {
                document.getElementById(`load${resolution}min`).addEventListener('click', function() {
                    if (window.loadSampleSchedule) {
                        const success = window.loadSampleSchedule(parseInt(resolution));
                        if (success) {
                            // Enhanced feedback animation
                            this.style.backgroundColor = 'var(--success)';
                            this.style.transform = 'scale(1.05)';
                            this.textContent = `${resolution}-min Loaded âœ“`;
                            
                            setTimeout(() => {
                                this.style.backgroundColor = '';
                                this.style.transform = '';
                                this.textContent = `Load ${resolution}-min Sample`;
                            }, 2000);
                            
                            resetGrid();
                        }
                    }
                });
            });

            // Enhanced Clear All with Confirmation
            document.getElementById('clearAll').addEventListener('click', function() {
                if (confirm('ðŸ—‘ï¸ Are you sure you want to clear all schedule data? This cannot be undone.')) {
                    if (window.clearSchedule) {
                        const success = window.clearSchedule();
                        if (success) {
                            this.style.backgroundColor = 'var(--success)';
                            this.style.transform = 'scale(1.05)';
                            this.textContent = 'Cleared âœ“';
                            
                            setTimeout(() => {
                                this.style.backgroundColor = 'var(--warning)';
                                this.style.transform = '';
                                this.textContent = 'Clear All';
                            }, 2000);
                            
                            resetGrid();
                        }
                    }
                }
            });
            
            // Enhanced Add Category with Visual Feedback
            const addCategoryBtn = document.getElementById('addCategory');
            const categoryInput = document.getElementById('newCategory');
            const categoryColorInput = document.getElementById('categoryColor');

            addCategoryBtn.addEventListener('click', function() {
                const name = categoryInput.value.trim();
                const color = categoryColorInput.value;
                
                if (addCategory(name, color)) {
                    categoryInput.value = '';
                    
                    // Success animation
                    categoryInput.style.backgroundColor = 'var(--success)';
                    categoryInput.style.color = 'white';
                    categoryInput.style.transform = 'scale(1.02)';
                    
                    setTimeout(() => {
                        categoryInput.style.backgroundColor = '';
                        categoryInput.style.color = '';
                        categoryInput.style.transform = '';
                    }, 1000);
                } else {
                    // Error animation
                    categoryInput.style.backgroundColor = 'var(--error)';
                    categoryInput.style.color = 'white';
                    categoryInput.style.animation = 'shake 0.5s';
                    
                    setTimeout(() => {
                        categoryInput.style.backgroundColor = '';
                        categoryInput.style.color = '';
                        categoryInput.style.animation = '';
                    }, 1000);
                }
            });

            categoryInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addCategoryBtn.click();
                }
            });

            // Enhanced Day Selection
            document.getElementById('day-select').addEventListener('change', function() {
                currentDay = parseInt(this.value);
                window.currentDay = currentDay;
                resetGrid();
            });

            // Enhanced Resolution Change
            document.getElementById('slotDuration').addEventListener('change', function() {
                resolution = parseInt(this.value);
                window.resolution = resolution;
                resetGrid();
            });

            // Enhanced Schedule Management
            document.getElementById('saveSchedule').addEventListener('click', saveSchedule);
            document.getElementById('loadSchedule').addEventListener('click', () => {
                document.getElementById('fileInput').click();
            });
            
            // Enhanced File Loading
            document.getElementById('fileInput').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const data = JSON.parse(e.target.result);
                            gridData = data.gridData || Array(7).fill().map(() => []);
                            categories = data.categories || [];
                            resolution = data.resolution || 60;
                            timeDirection = data.timeDirection || 'bottom';
                            
                            // Update UI
                            window.gridData = gridData;
                            window.categories = categories;
                            window.resolution = resolution;
                            
                            document.getElementById('slotDuration').value = resolution;
                            
                            // Rebuild categories with animation
                            document.getElementById('categories').innerHTML = '';
                            categories.forEach((cat, index) => {
                                const colors = ['#3b82f6', '#8b5cf6', '#22c55e', '#f59e0b', '#ef4444', '#ec4899', '#06b6d4', '#84cc16', '#f97316', '#a855f7'];
                                setTimeout(() => {
                                    addCategory(cat, colors[index % colors.length]);
                                }, index * 100);
                            });
                            
                            resetGrid();
                            
                            // Enhanced visual feedback
                            const loadBtn = document.getElementById('loadSchedule');
                            const originalText = loadBtn.textContent;
                            loadBtn.textContent = 'Loaded âœ“';
                            loadBtn.style.backgroundColor = 'var(--success)';
                            loadBtn.style.transform = 'scale(1.05)';
                            
                            setTimeout(() => {
                                loadBtn.textContent = originalText;
                                loadBtn.style.backgroundColor = '';
                                loadBtn.style.transform = '';
                            }, 2000);
                        } catch (error) {
                            alert('âŒ Error loading schedule: ' + error.message);
                        }
                    };
                    reader.readAsText(file);
                }
            });

            // Enhanced Reset with Confirmation
            document.getElementById('reset').addEventListener('click', function() {
                if (confirm('ðŸ”„ Are you sure you want to reset all data? This will clear everything and cannot be undone.')) {
                    gridData = Array(7).fill().map(() => []);
                    categories = [];
                    selectedCat = null;
                    window.gridData = gridData;
                    window.categories = categories;
                    window.selectedCat = selectedCat;
                    
                    document.getElementById('categories').innerHTML = '';
                    resetGrid();
                    
                    // Enhanced visual feedback
                    this.style.backgroundColor = 'var(--success)';
                    this.style.transform = 'scale(1.05)';
                    this.textContent = 'Reset Complete âœ“';
                    
                    setTimeout(() => {
                        this.style.backgroundColor = 'var(--error)';
                        this.style.transform = '';
                        this.textContent = 'Reset All Data';
                    }, 2000);
                }
            });

            // Add enhanced default categories
            const defaultCategories = [
                { name: 'Sleep', color: '#8b5cf6' },
                { name: 'Work', color: '#3b82f6' },
                { name: 'Exercise', color: '#22c55e' },
                { name: 'Meals', color: '#f59e0b' },
                { name: 'Leisure', color: '#ec4899' }
            ];

            // Add categories with staggered animation
            defaultCategories.forEach((cat, index) => {
                setTimeout(() => {
                    addCategory(cat.name, cat.color);
                }, index * 200);
            });

            // Initialize enhanced grid
            setTimeout(() => {
                resetGrid();
            }, 1000);
        });

        // Add CSS for enhanced animations
        const enhancedStyles = document.createElement('style');
        enhancedStyles.textContent = `
            .theme-transition * {
                transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
            }
            
            .time-slot.enhanced {
                transition: all 0.2s ease;
                position: relative;
                overflow: hidden;
            }
            
            .time-slot.enhanced::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
                transition: left 0.5s ease;
            }
            
            .time-slot.enhanced:hover::before {
                left: 100%;
            }
            
            .category.enhanced {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
                overflow: hidden;
            }
            
            .category.enhanced::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 0;
                height: 0;
                background: rgba(255,255,255,0.3);
                border-radius: 50%;
                transition: all 0.3s ease;
                transform: translate(-50%, -50%);
            }
            
            .category.enhanced:active::after {
                width: 200%;
                height: 200%;
            }
            
            .total-item.enhanced {
                transition: all 0.3s ease;
                padding: 10px;
                margin: 5px 0;
                border-radius: 8px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            
            .total-item.enhanced:hover {
                transform: translateX(5px);
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                25% { transform: translateX(-5px); }
                75% { transform: translateX(5px); }
            }
            
            .day-label.enhanced {
                background: linear-gradient(135deg, var(--primary), var(--secondary));
                color: white;
                text-shadow: 0 1px 2px rgba(0,0,0,0.3);
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 10px;
                text-align: center;
                font-weight: bold;
                font-size: 1.2em;
            }
            
            .time-label.enhanced {
                font-size: 0.8em;
                font-weight: bold;
                color: var(--text-secondary);
                opacity: 0.8;
            }
        `;
        document.head.appendChild(enhancedStyles);
    </script>
</body>
</html>
